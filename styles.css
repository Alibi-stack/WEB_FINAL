:root {
  --primary: #3a6eff;
  --accent: #00c389;
  --bg: #f7f9fc;
  --surface: #fff;
  --text: #1f2a37;
  --muted: #6b7280;
  --ring: rgba(58, 110, 255, 0.35);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  /* Ensure body always fills viewport and allow footer to stick to bottom
     by using a column flex layout. This prevents the footer from "floating"
     when page content is short. */
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background: var(--bg);
  line-height: 1.6;
}

a {
  color: var(--primary);
  text-decoration: none;
}

a:focus,
button:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 3px solid var(--ring);
  outline-offset: 2px;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 20px;
}

.header {
  background: var(--surface);
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  top: 0;
  z-index: 10;
}

.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 0;
}

.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
}

.brand .logo {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--primary), var(--accent));
}

.menu {
  display: flex;
  gap: 18px;
}

.menu a {
  color: var(--text);
  font-weight: 600;
}

.menu a.active {
  color: var(--primary);
}

.hero {
  background: linear-gradient(180deg, #eef3ff, transparent);
  padding: 52px 0 28px;
}

/* Dark hero background for better contrast in dark mode */
.dark .hero {
  background: linear-gradient(180deg, rgba(6,10,18,0.95), rgba(6,10,18,0.8));
}

.hero h1 {
  font-size: clamp(28px, 3.4vw, 44px);
  margin: 8px 0;
}

.hero p {
  color: var(--muted);
  max-width: 60ch;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.card {
  background: var(--surface);
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.02);
}

.card h3 {
  margin: 8px 0 6px;
}

.badge {
  font-size: 12px;
  padding: 4px 10px;
  border: 1px solid #dbeafe;
  border-radius: 999px;
  background: #eff6ff;
  color: var(--primary);
}

.cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 18px;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
}

.cta {
  background: var(--primary);
  color: #fff;
  border: 0;
}

/* Make CTA buttons more prominent and consistent across themes */
.cta {
  transition: transform 120ms ease, filter 120ms ease, box-shadow 140ms ease;
  box-shadow: 0 8px 30px rgba(58,110,255,0.08);
}
.cta:hover { transform: translateY(-2px); filter: brightness(1.02); }

/* CTA styling inside cards (Start course) - slightly smaller */
.card .cta {
  padding: 10px 16px;
  border-radius: 10px;
  font-size: 15px;
}

/* Dark-mode CTA adjustments: keep primary vivid on dark background */
.dark .cta {
  background: linear-gradient(90deg, var(--primary), var(--accent));
  color: #fff;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}
.dark .card .cta { box-shadow: none; }

.cta.secondary {
  background: transparent;
  color: var(--text);
  border: 1px solid rgba(15,23,42,0.06);
}

.dark .cta.secondary {
  background: rgba(255,255,255,0.02);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.06);
}

.section {
  padding: 28px 0;
}

/* Make the main section stretch to fill available space so footer stays at
   the bottom when content is short. Targets the main element with class
   'section' to avoid affecting other small sections that are not the page
   body content. */
main.section {
  flex: 1 1 auto;
}

.footer {
  margin-top: 40px;
  background: var(--surface);
  border-top: 1px solid #e5e7eb;
  color: var(--muted);
}

.footer .names {
  font-weight: 700;
  color: var(--text);
}

.kpis {
  display: flex;
  gap: 22px;
  flex-wrap: wrap;
}

.kpi {
  background: var(--surface);
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 14px 16px;
  min-width: 180px;
}

.kpi .num {
  font-size: 28px;
  font-weight: 800;
  color: var(--primary);
}

.kpi .lbl {
  color: var(--muted);
  font-size: 14px;
}

.list {
  display: grid;
  gap: 10px;
}

.list li,
.list li,
.input,
.filter {
  background: var(--surface);
  border: 1px solid rgba(15,23,42,0.04);
  border-radius: 10px;
  padding: 10px 12px;
}

.table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface);
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  overflow: hidden;
}

.table th,
.table td {
  padding: 12px 14px;
  text-align: left;
  border-bottom: 1px solid #f3f4f6;
}

.table th {
  background: #f9fafb;
  font-size: 14px;
  color: #111827;
}

.masthead {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.search {
  display: flex;
  gap: 10px;
  position: relative;
}

.search-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(15, 23, 42, 0.08);
  margin-top: 4px;
  display: none;
  z-index: 1000;
}

.suggestion {
  padding: 12px 16px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #f1f5f9;
}

.suggestion:hover {
  background: #f8fafc;
}

.suggestion:last-child {
  border-bottom: none;
}

.suggestion small {
  color: #64748b;
}

.enroll {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 10px;
}

ul.checks {
  padding-left: 22px;
}

ul.checks li {
  margin: 6px 0;
}

.star {
  font-size: 30px;
  cursor: pointer;
  margin: 0 5px;
}

.star.selected {
  color: gold;
}

/* Стили для блока с прогрессом */
#courseProgress {
  font-size: 20px;
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 20px;
  text-align: center;
}

/* Shared small control button used for time/theme toggles */
.control-btn {
  background: var(--surface);
  color: var(--text);
  border: 1px solid rgba(15,23,42,0.06);
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  border-radius: 10px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  transition: background 160ms ease, transform 120ms ease, color 160ms ease;
  box-shadow: 0 6px 18px rgba(15,23,42,0.04);
}

.control-btn:hover {
  transform: translateY(-2px);
}

.dark .control-btn {
  background: var(--surface);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 6px 18px rgba(0,0,0,0.3);
}

/* Controls container positioned top-right inside hero */
.hero { position: relative; }
.time-theme-controls {
  position: absolute;
  top: 14px;
  right: 20px;
  display: flex;
  gap: 10px;
  align-items: center;
}

.time-output {
  font-weight: 800;
  font-size: 18px;
  color: var(--text);
  margin-left: 4px;
}

/* Preloader styles */
.preloader {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #ffffff;
  z-index: 9999;
  transition: opacity 420ms ease, visibility 420ms ease;
}
.preloader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
.preloader-inner { text-align: center; color: var(--text); }
.preloader-text { font-weight: 800; margin-top: 10px; color: var(--text); }
.preloader .spinner {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  box-sizing: border-box;
  border: 6px solid rgba(15,23,42,0.06);
  border-top-color: var(--primary);
  animation: spin 1s linear infinite;
  margin: 0 auto;
  background: transparent;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Dark theme adjustments */
.dark .preloader { background: #071428; }
.dark .preloader .spinner { border: 6px solid rgba(255,255,255,0.08); border-top-color: var(--accent); }

.user-badge {
  display: inline-flex;
  gap: 8px;
  align-items: center;
}
.user-badge .user-name {
  font-weight: 700;
  color: var(--text);
  background: rgba(0,0,0,0.04);
  padding: 6px 10px;
  border-radius: 999px;
}
.dark .user-badge .user-name {
  background: rgba(255,255,255,0.02);
  color: var(--text);
}

/* Modal styles */
.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(2,6,12,0.5);
  z-index: 99999;
}
.modal[aria-hidden="false"] { display: flex; }
.modal-dialog {
  background: var(--surface);
  padding: 18px;
  border-radius: 12px;
  width: 100%;
  max-width: 420px;
  box-shadow: 0 14px 40px rgba(2,6,12,0.3);
}
.modal-close {
  position: absolute;
  right: 18px;
  top: 12px;
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
}
.modal-form label { display: block; margin: 8px 0; font-size: 14px; }
.modal-form input { width: 100%; padding: 8px 10px; border-radius: 8px; border: 1px solid rgba(15,23,42,0.06); background: var(--surface); color: var(--text); }
.modal-form .row { display:flex; align-items:center; gap:8px; }

/* Back to top button */
.back-top {
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  display: none;
  align-items: center;
  justify-content: center;
  background: var(--primary);
  color: #fff;
  font-weight: 700;
  z-index: 9999;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(58,110,255,0.12);
}
.back-top.show { display:flex; }

/* Dark overrides for modal/back-top */
.dark .modal-dialog { background: var(--surface); color: var(--text); box-shadow: 0 14px 40px rgba(0,0,0,0.6); }
.dark .modal-form input { border: 1px solid rgba(255,255,255,0.04); background: #0b1220; color: var(--text); }
.dark .back-top { background: var(--accent); }

/* Make the controls flow normally on small screens */
@media (max-width: 640px) {
  .time-theme-controls { position: static; margin-bottom: 12px; }
}

/* Update generic action buttons to use variables */
#updateProgressBtn, #readMoreBtn {
  background-color: var(--primary);
  color: #fff;
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 6px;
}

#updateProgressBtn:hover, #readMoreBtn:hover {
  filter: brightness(0.95);
}

#extraContent {
  margin-top: 15px;
  padding: 10px;
  background-color: var(--surface);
  border: 1px solid rgba(15,23,42,0.04);
  border-radius: 5px;
}

#timeButton { padding: 8px 12px; font-size: 14px; border-radius: 10px; }

#timeButton:hover { background: linear-gradient(90deg, rgba(58,110,255,0.06), rgba(0,195,137,0.04)); }

#timeDisplay { font-size: 18px; font-weight: 700; margin-top: 0; }

button {
  padding: 10px;
  transition: transform 0.3s ease;
}

button:hover {
  transform: scale(1.1);

}

mark.highlight {
  background: linear-gradient(180deg, #fff38d, #ffef8a);
  color: var(--text);
  padding: 0 3px;
  border-radius: 3px;
  box-shadow: 0 2px 8px rgba(58, 110, 255, 0.04) inset;
}

#scrollProgress {
  position: fixed;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 80px);
  max-width: 980px;
  height: 10px;
  background: rgba(15, 23, 42, 0.04);
  border-radius: 999px;
  padding: 2px;
  z-index: 9999;
  pointer-events: none;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
}

#progressBar {
  height: 100%;
  width: 0%;
  border-radius: 999px;
  transition: width 120ms linear, box-shadow 200ms ease;
  background: linear-gradient(90deg, #3a6eff, #00c389, #ff7a7a);
  box-shadow: 0 6px 18px rgba(58, 110, 255, 0.14);
}

#progressBar.glow {
  box-shadow: 0 10px 30px rgba(58, 110, 255, 0.22), 0 0 24px rgba(0, 195, 137, 0.08);
}

.spinner {
  display: inline-block;
  width: 14px;
  height: 14px;
  margin-right: 8px;
  vertical-align: middle;
  border: 2px solid rgba(255, 255, 255, 0.35);
  border-top-color: #ffffff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

button:not(.cta) .spinner,
input[type="submit"]+.spinner {
  border: 2px solid rgba(0, 0, 0, 0.12);
  border-top-color: rgba(0, 0, 0, 0.4);
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

button.loading,
input[type="submit"][disabled] {
  opacity: 0.92;
  cursor: progress;
  pointer-events: none;
}

@media (max-width: 480px) {
  #scrollProgress {
    width: calc(100% - 28px);
    top: 6px;
    height: 6px;
  }

  #progressBar {
    height: 100%;
  }
}

/* Toast / notification styles */
.toast-container {
  position: fixed;
  right: 20px;
  bottom: 24px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 10020;
  pointer-events: none;
  max-width: calc(100% - 48px);
}

.toast {
  pointer-events: auto;
  background: linear-gradient(180deg, #1f2a37, #243143);
  color: #fff;
  padding: 12px 14px;
  border-radius: 10px;
  box-shadow: 0 8px 30px rgba(15, 23, 42, 0.18);
  font-weight: 600;
  transform-origin: right bottom;
  animation: toast-in .24s cubic-bezier(.2, .9, .2, 1);
  max-width: 420px;
}


.toast.info {
  background: linear-gradient(180deg, #242f58, #2f3ba0);
}

/* exit animation */
.toast.hide {
  animation: toast-out .28s ease forwards;
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(8px) scale(.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  to {
    opacity: 0;
    transform: translateY(8px) scale(.98);
  }
}

/* optional close button inside toast */
.toast .close {
  margin-left: 12px;
  background: transparent;
  border: 0;
  color: rgba(255, 255, 255, 0.85);
  cursor: pointer;
  font-weight: 700;
}

/* Dark theme variable overrides */
.dark {
  --primary: #5aa0ff;
  --accent: #2dd4bf;
  --bg: #071028;
  --surface: #081226;
  --text: #e6eef8;
  --muted: #98a6bf;
  --ring: rgba(90, 160, 255, 0.25);
}

/* Minor tweaks for dark mode elements */

.dark .header,
.dark .footer,
.dark .kpi {
  background: var(--surface);
  border-color: rgba(255,255,255,0.04);
}

.dark .card {
  /* make cards slightly lighter than page background so content remains readable */
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-color: rgba(255,255,255,0.04);
}

.dark body {
  background: var(--bg);
  color: var(--text);
}

.dark a { color: var(--primary); }
.dark .cta { box-shadow: none; }
.dark .search-suggestions { background: #071428; }
.dark .suggestion { border-color: rgba(255,255,255,0.02); }

/* Card text should remain light in dark mode for readability */
.dark .card h3,
.dark .card .muted,
.dark .card .lbl {
  color: var(--text);
}
